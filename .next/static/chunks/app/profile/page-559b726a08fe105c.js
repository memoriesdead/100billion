(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{6089:(e,l,a)=>{Promise.resolve().then(a.bind(a,9752))},6202:(e,l,a)=>{"use strict";a.d(l,{A:()=>s});var n=a(5155),r=a(2115),t=a(4073),i=a(9434);let s=r.forwardRef((e,l)=>{let{className:a,...r}=e;return(0,n.jsxs)(t.bL,{ref:l,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,n.jsx)(t.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,n.jsx)(t.Q6,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(t.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});s.displayName=t.bL.displayName},9752:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>U});var n=a(5155),r=a(2115),t=a(4304),i=a(9576),s=a(6927),o=a(6715),c=a(9373),d=a(5041),u=a(6824),m=a(6766),h=a(5695),x=a(3833);a(4534);var g=a(1394),p=a(285),f=a(7313),v=a(5365),b=a(4165),j=a(8539),w=a(5057),N=a(2523),y=a(6202),_=a(7933),C=a(5943),S=a(3561),k=a(1920),E=a(5300);let P=(0,a(157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var L=a(4352),F=a(6970);function U(){var e,l,a,U,M,A,R,$,q,B,O,G,I,T,W,D,H,z,J,K,Q,X;let{user:V,loading:Z}=(0,i.As)(),Y=(0,h.useRouter)(),ee=(0,o.jE)(),[el,ea]=(0,r.useState)(""),[en,er]=(0,r.useState)(!1),[et,ei]=(0,r.useState)(!1),[es,eo]=(0,r.useState)(null),[ec,ed]=(0,r.useState)(null),[eu,em]=(0,r.useState)(null),[eh,ex]=(0,r.useState)(null),[eg,ep]=(0,r.useState)(),[ef,ev]=(0,r.useState)(),[eb,ej]=(0,r.useState)(1),ew=16/9,eN=(0,r.useRef)(null),ey=(0,r.useRef)(null),[e_,eC]=(0,r.useState)(null),[eS,ek]=(0,r.useState)(null),[eE,eP]=(0,r.useState)(null),[eL,eF]=(0,r.useState)(!1),[eU,eM]=(0,r.useState)(null),[eA,eR]=(0,r.useState)(null),e$=(0,r.useRef)(null),[eq,eB]=(0,r.useState)("content"),{data:eO,isLoading:eG,error:eI}=(0,c.I)({queryKey:["profile",null==V?void 0:V.id],queryFn:async()=>{if(!(null==V?void 0:V.id))throw Error("User not authenticated");let{data:e,error:l}=await s.N.from("profiles").select("\n          id, username, name, profile_picture_url, bio,\n          banner_image_url, created_at, following_count,\n          followers_count\n        ").eq("id",V.id).single();if(l&&"PGRST116"!==l.code)throw l;return e||null},enabled:!!(null==V?void 0:V.id)&&!Z});(0,r.useEffect)(()=>{if(eO)if(ea(eO.bio||""),ed(eO.banner_image_url),eO.banner_image_url){var e,l;let a=null==(l=eO.banner_image_url.split(".").pop())||null==(e=l.split("?")[0])?void 0:e.toLowerCase();em(a&&["mp4","webm","mov","ogg","mkv","avi"].includes(a)?"video":"image")}else em(null)},[eO]);let eT=(0,d.n)({mutationFn:async e=>{if(!(null==V?void 0:V.id))throw Error("User not authenticated");let{error:l}=await s.N.from("profiles").update({bio:e,updated_at:new Date().toISOString()}).eq("id",V.id);if(l)throw l},onSuccess:()=>{ee.invalidateQueries({queryKey:["profile",null==V?void 0:V.id]}),er(!1)},onError:e=>console.error("Failed to update bio:",e)}),eW=(0,d.n)({mutationFn:async e=>{if(!(null==V?void 0:V.id))throw Error("User not authenticated");if(!e)throw Error("No file selected");let l=e.name.split(".").pop(),a="".concat(V.id,"/").concat("banner.".concat(l)),n=e.type;console.log("Uploading banner ".concat(n," to: banners/").concat(a));let{data:r,error:t}=await s.N.from("profiles").select("banner_image_url").eq("id",V.id).single();t&&"PGRST116"!==t.code&&console.error("Error fetching current banner URL for deletion:",t);let i=null==r?void 0:r.banner_image_url,o=null==i?void 0:i.match(/\/banners\/(.+?)(\?|$)/),c=o?o[1]:null;if(c&&c!==a)try{console.log("Attempting to remove old banner file from storage: ".concat(c));let{error:e}=await s.N.storage.from("banners").remove([c]);e&&"The resource was not found"!==e.message?console.warn("Failed to remove old banner file at ".concat(c,":"),e.message):e||console.log("Successfully removed old banner file: ".concat(c))}catch(e){console.warn("Error during removal of old banner file:",e instanceof Error?e.message:String(e))}let{error:d}=await s.N.storage.from("banners").upload(a,e,{cacheControl:"3600",upsert:!0,contentType:n});if(d)throw Error("Storage upload failed: ".concat(d.message));let u="t=".concat(new Date().getTime()),{data:m}=s.N.storage.from("banners").getPublicUrl(a),h=null==m?void 0:m.publicUrl;if(!h)throw Error("Failed to get public URL for banner. Check bucket RLS.");h=h.includes("?")?"".concat(h,"&").concat(u):"".concat(h,"?").concat(u);let{error:x}=await s.N.from("profiles").update({banner_image_url:h,updated_at:new Date().toISOString()}).eq("id",V.id);if(x)throw Error("Profile update failed: ".concat(x.message));return h},onSuccess:e=>{ee.invalidateQueries({queryKey:["profile",null==V?void 0:V.id]}),ei(!1),eo(null),ex(null),ep(void 0),ev(void 0),eC(null),ek(null),eP(null)},onError:e=>{console.error("Failed to update banner:",e),eC("Failed to update banner: ".concat(e.message))}}),eD=(0,d.n)({mutationFn:async e=>{if(!(null==V?void 0:V.id))throw Error("User not authenticated");if(!e)throw Error("No file selected");let l=e.name.split(".").pop(),a="".concat(V.id,"/avatar.").concat(l),{error:n}=await s.N.storage.from("profiles").upload(a,e,{cacheControl:"3600",upsert:!0});if(n)throw Error("Storage upload failed: ".concat(n.message));let{data:r}=s.N.storage.from("profiles").getPublicUrl(a),t=null==r?void 0:r.publicUrl;if(!t)throw Error("Failed to get public URL for avatar");let{error:i}=await s.N.from("profiles").update({profile_picture_url:t,updated_at:new Date().toISOString()}).eq("id",V.id);if(i)throw Error("Profile update failed: ".concat(i.message));return t},onSuccess:()=>{ee.invalidateQueries({queryKey:["profile",null==V?void 0:V.id]}),eF(!1),eM(null),eR(null)},onError:e=>console.error("Failed to update avatar:",e)}),eH=async()=>{if(!ef||!eN.current||!eh){console.error("Banner Crop details, image ref, or image source not available"),eC("Could not apply crop. Please try again.");return}try{eC(null);let e=await function(e,l){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=document.createElement("canvas"),r=n.getContext("2d");if(!r)throw Error("No 2d context");let t=e.naturalWidth/e.width,i=e.naturalHeight/e.height;n.width=Math.floor(l.width*t*1),n.height=Math.floor(l.height*i*1),r.scale(1,1),r.imageSmoothingQuality="high";let s=l.x*t,o=l.y*i,c=e.naturalWidth/2,d=e.naturalHeight/2;return r.save(),r.translate(-s,-o),r.translate(c,d),r.scale(a,a),r.translate(-c,-d),r.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),r.restore(),new Promise((e,l)=>{n.toBlob(a=>{if(!a){console.error("Canvas is empty"),l(Error("Canvas is empty"));return}e(a)},"image/png")})}(eN.current,ef,eb);if(e){let l=eh.match(/data:image\/(.+);/),a=l?l[1]:"png",n="banner_cropped_".concat(Date.now(),".").concat(a),r=new File([e],n,{type:"image/".concat(a)});eo(r),ed(URL.createObjectURL(e)),em("image"),ex(null)}}catch(e){console.error("Error cropping banner image:",e),eC("Could not crop the image. Please try again.")}finally{ey.current&&(ey.current.value="")}},ez=()=>{var e,l,a;if(ei(!1),eo(null),ex(null),ep(void 0),ev(void 0),eC(null),ek(null),eP(null),ed(null!=(e=null==eO?void 0:eO.banner_image_url)?e:null),null==eO?void 0:eO.banner_image_url){let e=null==(a=eO.banner_image_url.split(".").pop())||null==(l=a.split("?")[0])?void 0:l.toLowerCase();em(e&&["mp4","webm","mov","ogg","mkv","avi"].includes(e)?"video":"image")}else em(null);ey.current&&(ey.current.value="")};return Z?(0,n.jsx)(t.MainLayout,{children:(0,n.jsx)("div",{className:"flex justify-center items-center min-h-[70vh]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),(0,n.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading authentication..."})]})})}):V?eG?(0,n.jsx)(t.MainLayout,{children:(0,n.jsx)("div",{className:"container max-w-6xl mx-auto px-4 py-12 text-center",children:(0,n.jsx)("p",{children:"Loading profile..."})})}):eI?(0,n.jsx)(t.MainLayout,{children:(0,n.jsx)("div",{className:"container max-w-6xl mx-auto px-4 py-12",children:(0,n.jsxs)(v.Fc,{variant:"destructive",children:[(0,n.jsx)(v.XL,{children:"Error Loading Profile"}),(0,n.jsxs)(v.TN,{children:[" ",eI.message||"Failed to load profile data."," "]})]})})}):eO?(0,n.jsxs)(t.MainLayout,{children:[(0,n.jsxs)("div",{className:"relative w-full h-72 md:h-96 overflow-hidden bg-gradient-to-r from-slate-300 to-slate-400 dark:from-slate-700 dark:to-slate-800",children:[eO.banner_image_url?eO.banner_image_url.match(/\.(mp4|webm|mov|ogg)$/i)?(0,n.jsx)("video",{src:eO.banner_image_url,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0},eO.banner_image_url):(0,n.jsx)(m.default,{src:eO.banner_image_url,alt:"Profile banner",className:"object-cover object-center",fill:!0,priority:!0,quality:90},eO.banner_image_url):(0,n.jsx)("div",{className:"absolute inset-0 bg-muted"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),(0,n.jsxs)(b.lG,{open:et,onOpenChange:e=>{if(ei(e),e){var l;eo(null),ex(null),ep(void 0),ev(void 0),eC(null),ed(null!=(l=null==eO?void 0:eO.banner_image_url)?l:null),em((null==eO?void 0:eO.banner_image_url)?eO.banner_image_url.match(/\.(mp4|webm|mov|ogg)$/i)?"video":"image":null),ey.current&&(ey.current.value="")}else ez()},children:[(0,n.jsx)(b.zM,{asChild:!1,children:(0,n.jsxs)(p.$,{variant:"outline",size:"sm",className:"absolute top-4 right-4 bg-black/40 hover:bg-black/60 text-white border-white/20 backdrop-blur-sm",onClick:()=>{var e;eo(null),ex(null),ep(void 0),ev(void 0),eC(null),ed(null!=(e=null==eO?void 0:eO.banner_image_url)?e:null),em((null==eO?void 0:eO.banner_image_url)?eO.banner_image_url.match(/\.(mp4|webm|mov|ogg)$/i)?"video":"image":null),ey.current&&(ey.current.value=""),ei(!0)},children:[(0,n.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Change Banner"]})}),(0,n.jsxs)(b.Cf,{className:"sm:max-w-lg bg-card",children:[(0,n.jsxs)(b.c7,{children:[(0,n.jsx)(b.L3,{children:"Change Banner"}),(0,n.jsx)(b.rr,{children:"Select a new image or video. Images can be cropped."})]}),eh?(0,n.jsxs)("div",{className:"space-y-4 py-4",children:[(0,n.jsx)("div",{className:"relative flex justify-center items-center overflow-hidden p-4 border rounded-md",style:{maxHeight:"60vh"},children:(0,n.jsx)(x.Ay,{crop:eg,onChange:(e,l)=>ep(l),onComplete:e=>ev(e),aspect:ew,keepSelection:!0,children:(0,n.jsx)("img",{ref:eN,alt:"Crop banner",src:eh,style:{transform:"scale(".concat(eb,")"),objectFit:"contain",width:"100%",height:"auto"},onLoad:function(e){let{width:l,height:a}=e.currentTarget;ep((0,x.ge)((0,x.dS)({unit:"%",width:90},ew,l,a),l,a))}})})}),(0,n.jsxs)("div",{className:"w-full max-w-xs mx-auto flex items-center space-x-2 px-4",children:[(0,n.jsx)(w.J,{htmlFor:"bannerZoom",className:"w-12 text-sm text-muted-foreground",children:"Zoom"}),(0,n.jsx)(y.A,{id:"bannerZoom",min:1,max:3,step:.01,value:[eb],onValueChange:e=>ej(e[0]),className:"flex-1"})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,n.jsx)(p.$,{variant:"outline",onClick:()=>{var e;ex(null),ed(null!=(e=null==eO?void 0:eO.banner_image_url)?e:null),em((null==eO?void 0:eO.banner_image_url)?eO.banner_image_url.match(/\.(mp4|webm|mov|ogg)$/i)?"video":"image":null),eo(null),ey.current&&(ey.current.value="")},children:"Back"}),(0,n.jsx)(p.$,{onClick:eH,disabled:!ef,children:"Apply Crop"})]}),eS&&eE&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground text-center pt-1",children:["Original: ",eS," x ",eE," px"]})]}):(0,n.jsxs)("div",{className:"space-y-4 py-4",children:[(0,n.jsx)("div",{className:"w-full aspect-[16/5] bg-muted rounded border border-dashed flex items-center justify-center overflow-hidden relative",children:ec?"video"===eu?(0,n.jsx)("video",{src:ec,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0},ec):(0,n.jsx)(m.default,{src:ec,alt:"Banner preview",layout:"fill",className:"object-cover",quality:90},ec):(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Select file below"})}),(0,n.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,n.jsx)(w.J,{htmlFor:"banner-upload",children:"Select Image or Video"}),(0,n.jsx)(N.p,{id:"banner-upload",type:"file",accept:"image/png, image/jpeg, image/webp, video/mp4, video/webm, video/quicktime, video/ogg",ref:ey,onChange:e=>{var l,a,n;let r=null==(l=e.target.files)?void 0:l[0];if(eC(null),r)if(eo(null),ex(null),ep(void 0),ev(void 0),ek(null),eP(null),r.type.startsWith("video/"))em("video"),eo(r),ed(URL.createObjectURL(r));else if(r.type.startsWith("image/")){em("image"),ej(1);let e=new FileReader;e.onloadend=()=>{let l=document.createElement("img");l.onload=()=>{ek(l.naturalWidth),eP(l.naturalHeight),ex(e.result),ed(e.result)},l.onerror=()=>{console.error("Failed to load image for dimension reading."),eC("Failed to read image dimensions."),ex(null),ek(null),eP(null)},l.src=e.result},e.onerror=()=>{console.error("Failed to read the selected banner image file."),ex(null),eC("Failed to read the selected image file.")},e.readAsDataURL(r)}else eC("Unsupported file type. Please select an image or video."),em(null),eo(null),ed(null!=(a=null==eO?void 0:eO.banner_image_url)?a:null);else eo(null),ex(null),ed(null!=(n=null==eO?void 0:eO.banner_image_url)?n:null),em((null==eO?void 0:eO.banner_image_url)?eO.banner_image_url.match(/\.(mp4|webm|mov|ogg)$/i)?"video":"image":null),ek(null),eP(null)},className:"cursor-pointer"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP, MP4, WEBM, MOV, OGG. Max 10MB."}),"image"===eu&&eS&&eE&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Original: ",eS," x ",eE," px"]})]}),e_&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:e_})]}),(0,n.jsxs)(b.Es,{children:[(0,n.jsx)(p.$,{type:"button",variant:"outline",onClick:ez,children:"Cancel"}),(0,n.jsx)(p.$,{type:"button",onClick:()=>{es?(eC(null),eW.mutate(es)):eC("Please select a file first.")},disabled:!es||eW.isPending||!!eh,children:eW.isPending?"Saving...":"Save Banner"})]})]})]})]})," ",(0,n.jsxs)("div",{className:"container max-w-6xl mx-auto px-4",children:[(0,n.jsxs)("div",{className:"relative -mt-16 md:-mt-20 flex flex-col md:flex-row gap-6 md:gap-8 mb-8",children:[(0,n.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,n.jsxs)(g.eu,{className:"h-32 w-32 md:h-36 md:w-36 border-4 border-background shadow-lg",children:[(0,n.jsx)(g.BK,{src:null!=(O=null==eO?void 0:eO.profile_picture_url)?O:void 0,alt:null!=(G=null==eO?void 0:eO.username)?G:"User"}),(0,n.jsx)(g.q5,{className:"text-3xl",children:null!=(T=null!=(I=null==eO||null==(l=eO.name)||null==(e=l.charAt(0))?void 0:e.toUpperCase())?I:null==eO||null==(U=eO.username)||null==(a=U.charAt(0))?void 0:a.toUpperCase())?T:"U"})]}),(0,n.jsxs)(b.lG,{open:eL,onOpenChange:eF,children:[(0,n.jsx)(p.$,{variant:"outline",size:"icon",className:"absolute bottom-1 right-1 bg-background rounded-full h-8 w-8 shadow-md","aria-label":"Change profile picture",onClick:()=>eF(!0),children:(0,n.jsx)(_.A,{className:"h-4 w-4"})}),(0,n.jsxs)(b.Cf,{className:"sm:max-w-md",children:[(0,n.jsxs)(b.c7,{children:[(0,n.jsx)(b.L3,{children:"Change Profile Picture"}),(0,n.jsx)(b.rr,{children:" Select a new image for your avatar. "})]}),(0,n.jsxs)("div",{className:"space-y-4 py-4",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)(g.eu,{className:"h-32 w-32 border-2 border-primary",children:[(0,n.jsx)(g.BK,{src:null!=(W=null!=eA?eA:null==eO?void 0:eO.profile_picture_url)?W:void 0,alt:"Avatar preview"}),(0,n.jsx)(g.q5,{className:"text-3xl",children:null!=(H=null!=(D=null==eO||null==(A=eO.name)||null==(M=A.charAt(0))?void 0:M.toUpperCase())?D:null==eO||null==($=eO.username)||null==(R=$.charAt(0))?void 0:R.toUpperCase())?H:"U"})]})}),(0,n.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5 mx-auto",children:[(0,n.jsx)(w.J,{htmlFor:"avatar-picture",children:"Select Image"}),(0,n.jsx)(N.p,{id:"avatar-picture",type:"file",accept:"image/png, image/jpeg, image/webp",ref:e$,onChange:e=>{var l;let a=null==(l=e.target.files)?void 0:l[0];if(a){eM(a);let e=new FileReader;e.onloadend=()=>{eR(e.result)},e.readAsDataURL(a)}else eM(null),eR(null)},className:"cursor-pointer"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP up to 2MB."})]})]}),(0,n.jsxs)(b.Es,{children:[(0,n.jsxs)(b.HM,{children:[" ",(0,n.jsx)(p.$,{type:"button",variant:"outline",children:"Cancel"})," "]}),(0,n.jsx)(p.$,{type:"button",onClick:()=>{eU&&eD.mutate(eU)},disabled:!eU||eD.isPending,children:eD.isPending?"Uploading...":"Save Avatar"})]})]})]})]}),(0,n.jsxs)("div",{className:"flex-1 space-y-3 pt-4 md:pt-6",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:null!=(z=null==eO?void 0:eO.name)?z:"User Name"}),(0,n.jsxs)("h2",{className:"text-lg text-muted-foreground",children:["@",null!=(J=null==eO?void 0:eO.username)?J:"username"]})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsxs)(p.$,{variant:"outline",onClick:()=>Y.push("/profile/edit"),children:[(0,n.jsx)(C.A,{className:"h-4 w-4 mr-2"})," Edit Profile"]}),(0,n.jsxs)(p.$,{variant:"ghost",size:"icon",children:[" ",(0,n.jsx)(S.A,{className:"h-5 w-5"})," "]})]})]}),eO&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("p",{className:"max-w-3xl text-sm md:text-base mr-2",children:[" ",null!=(K=eO.bio)?K:"No bio available."," "]}),(0,n.jsxs)(b.lG,{open:en,onOpenChange:er,children:[(0,n.jsx)(b.zM,{asChild:!1,children:(0,n.jsx)(p.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-primary flex-shrink-0",onClick:()=>er(!0),children:(0,n.jsx)(C.A,{className:"h-3 w-3"})})}),(0,n.jsxs)(b.Cf,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(b.c7,{children:[(0,n.jsx)(b.L3,{children:"Edit Bio"}),(0,n.jsx)(b.rr,{children:" Make changes to your bio here. Click save when you're done. "})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(w.J,{htmlFor:"bio",className:"text-right sr-only",children:" Bio "}),(0,n.jsx)(j.T,{id:"bio",value:el,onChange:e=>ea(e.target.value),className:"col-span-4 h-24",maxLength:150})]}),(0,n.jsxs)("p",{className:"text-xs text-muted-foreground text-right col-span-4",children:[" ",el.length," / 150 "]})]}),(0,n.jsxs)(b.Es,{children:[(0,n.jsxs)(b.HM,{children:[" ",(0,n.jsx)(p.$,{type:"button",variant:"outline",children:"Cancel"})," "]}),(0,n.jsx)(p.$,{type:"button",onClick:()=>{eT.mutate(el)},disabled:eT.isPending,children:eT.isPending?"Saving...":"Save changes"})]})]})]})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground",children:(null==eO?void 0:eO.created_at)&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"Joined ",(0,u.GP)(new Date(eO.created_at),"MMMM yyyy")]})}),(0,n.jsxs)("div",{className:"flex gap-6 pt-2",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-bold",children:null!=(Q=null==eO||null==(q=eO.following_count)?void 0:q.toLocaleString())?Q:0}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Following"})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-bold",children:null!=(X=null==eO||null==(B=eO.followers_count)?void 0:B.toLocaleString())?X:0}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Followers"})]})]})]})]})," ",(0,n.jsx)("div",{className:"mb-16",children:(0,n.jsxs)(f.tU,{defaultValue:"content",className:"w-full",children:[(0,n.jsx)("div",{className:"border-b",children:(0,n.jsxs)(f.j7,{className:"justify-start h-12",children:[(0,n.jsx)(f.Xi,{value:"content",className:"flex items-center",children:(0,n.jsxs)("span",{children:[(0,n.jsx)(E.A,{className:"h-4 w-4 mr-2 inline-block"})," Content"]})}),(0,n.jsx)(f.Xi,{value:"home",className:"flex items-center",children:(0,n.jsxs)("span",{children:[(0,n.jsx)(E.A,{className:"h-4 w-4 mr-2 inline-block"})," Home"]})})]})}),(0,n.jsxs)(f.av,{value:"content",className:"py-6",children:[(0,n.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"My Content"}),(0,n.jsxs)(p.$,{onClick:()=>Y.push("/upload"),children:[(0,n.jsx)(P,{className:"h-4 w-4 mr-2"})," Create New"]})]}),(0,n.jsx)(L.Y,{userId:V.id,allowDeletion:!0})]}),(0,n.jsx)(f.av,{value:"home",className:"py-6",children:(0,n.jsx)(F.A,{})})]})})]})]}):(0,n.jsx)(t.MainLayout,{children:(0,n.jsx)("div",{className:"container max-w-6xl mx-auto px-4 py-12",children:(0,n.jsxs)(v.Fc,{children:[(0,n.jsx)(v.XL,{children:"Profile Not Found"}),(0,n.jsx)(v.TN,{children:" This profile could not be found. "})]})})}):(0,n.jsx)(t.MainLayout,{children:(0,n.jsx)("div",{className:"container max-w-6xl mx-auto px-4 py-12",children:(0,n.jsxs)(v.Fc,{children:[(0,n.jsx)(v.XL,{children:"Authentication Required"}),(0,n.jsx)(v.TN,{children:" Please log in to view this profile. "})]})})})}}},e=>{var l=l=>e(e.s=l);e.O(0,[2111,6711,4206,2666,851,3953,6671,1733,3568,8312,1144,4550,7328,9373,7436,9022,7431,3762,4304,8104,8441,1684,7358],()=>l(6089)),_N_E=e.O()}]);